---
title: "Mac é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ #1"
emoji: "ğŸ”§"
type: "tech"
topics: [macOS, åˆæœŸè¨­å®š, åˆå¿ƒè€…]
published: true
---

## ã¯ã˜ã‚ã«

macOSã«ãŠã‘ã‚‹é–‹ç™ºç’°å¢ƒã®åŸºç¤ã‚’æŒ¯ã‚Šè¿”ã‚‹ğŸ“

- Terminalã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ”¹è‰¯ï¼ˆå°‘ã—ã ã‘ï¼‰
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã®å°å…¥
- Gitã®è¨­å®šï¼ˆGitHubé€£æºã‚’å«ã‚€ï¼‰

ä»Šå›ã¯æ§˜ã€…ãªé–‹ç™ºç’°å¢ƒä¸‹ã§ã‚‚å¿…é ˆã¨ãªã‚‹ã§ã‚ã‚ã†ä¸Šè¨˜3ç‚¹ã‚’æ‰±ã†ã€‚

:::message alert
ãƒ»åˆå­¦è€…ãŒåŸ·ç­†ã—ã¦ã„ã‚‹ãŸã‚ã€è‡³ã‚‰ã¬ç‚¹ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã”äº†æ‰¿ã®ä¸Šã§å¾¡è¦§ãã ã•ã„ã€‚

ãƒ»è¨˜äº‹ã®æŠ•ç¨¿æ—¥æ™‚ã¨ç¾åœ¨æ—¥æ™‚ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚æƒ…å ±ãŒå¤ããªã£ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
:::

## å‹•ä½œç’°å¢ƒ

MacBook Air (M1, 2020) - macOS Sonoma 14.3
zsh 5.9 (x86_64-apple-darwin23.0)

## Zsh (Z shell)

@[card](https://zsh.sourceforge.io/)

ã¾ãšã¯shellã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‘ã—å¼„ã‚Šã¾ã™ã€‚æœ€è¿‘ã®Macã§ã¯ZshãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã™ã€‚

### è¨­å®š

1. ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã€‚

    ```sh:terminal
    touch ~/.zshrc
    ```

    &nbsp;

2. ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€‚

    ```sh:terminal
    open -e ~/.zshrc
    # or
    # vim ~/.zshrc
    ```

    vimã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦Terminalå†…ã§å®Œçµã•ã›ã‚‹ã¨ã‚¯ãƒ¼ãƒ«ã§ã™ã‚ˆã­ğŸ˜
    &nbsp;

3. ä»¥ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¦ç·¨é›†ã™ã‚‹ã€‚

    ```sh:~/.zshrc
    #----------------------------------------------------------
    # prompt
    #----------------------------------------------------------
    prompt() {
        PROMPT="%B%F{062}%d%f%b"
        PROMPT+=""$'\n'"%(?.%F{041}.%F{160})%n%# %f"
    }
    newline() {
        if [[ -z $PS1_NEWLINE_LOGIN ]]; then
          PS1_NEWLINE_LOGIN=true
        else
          printf '\n'
        fi
    }

    precmd() {
        prompt
        newline
    }
    ```

    :::message
    ãƒ»å…ƒã€…`.zshrc`ã«è¨˜è¿°ã•ã‚Œã¦ã„ãŸã‚‚ã®ã¯åŸºæœ¬çš„ã«ã¯æ®‹ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
    ã€€ãƒ†ã‚­ã‚¹ãƒˆã¯æœ«å°¾ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚

    ãƒ»vimã®å ´åˆã¯`.vimrc`ã‚’è¨­å®šã—ã¦ã„ãªã„ã¨ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®è²¼ã‚Šä»˜ã‘ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚
    :::

å®Ÿéš›ã«Terminalã‚’å†èµ·å‹•ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªè¡¨ç¤ºã«å¤‰ã‚ã‚Šã¾ã™ã€‚
ã‚³ãƒãƒ³ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ï¼ˆçµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ0ä»¥å¤–ï¼‰ã«ãªã‚‹ã¨ãƒ¦ãƒ¼ã‚¶åãŒèµ¤è‰²ã«å¤‰ã‚ã‚Šã¾ã™ã€‚

![Add new SSH Key](/images/articles/init/prompt.png)
*ãƒ¦ãƒ¼ã‚¶åã¯éš ã—ã¦ã„ã¾ã™âœŒï¸*

ã“ã“ã§ã¯ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å°‘ã—ã ã‘å¼„ã‚Šã¾ã—ãŸã€‚
ç§ã¯ã‚‚ã†å°‘ã—ã“ã ã‚ã£ãŸã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ãŒã€ã“ã“ã§ã¯æœ€å°é™ã«æŠ‘ãˆã¾ã™ã€‚
(ãŠã‚‚ã—ã‚ã„ã®ã§è‡ªèº«ã§æ¢ã£ã¦ã¿ã¦ã»ã—ã„...ğŸ¥º)

## Homebrew

@[card](https://brew.sh)

æ¬¡ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã‚’å°å…¥ã—ã¾ã™ã€‚
ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚ãƒ“ãƒ¼ãƒ«é£²ã¿ãŸããªã‚‹ã­ğŸ»

### å°å…¥æ‰‹é †

1. Terminalã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã€‚

    ```sh:terminal
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    ```

    :::message
    é€”ä¸­ã§`Enter`ã®å…¥åŠ›ãŒè¦æ±‚ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ãã®éš›ã¯æŠ¼ã—ã¾ã™ã€‚
    ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚‹ã®ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
    :::
    &nbsp;

2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚
    Terminalã‚’å†èµ·å‹•ã—ã¦ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã€‚

    ```sh:terminal
    brew -v
    ```

    ```text:output example
    Homebrew 4.2.6
    ```

    `output example`ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚
    ï¼ˆ`æ‰‹é †3`ã¨`æ‰‹é †4`ã¯é£›ã°ã—ã¦OKğŸ‘Œï¼‰
    &nbsp;

3. ç¢ºèªãŒã§ããªã‘ã‚Œã°ãƒ‘ã‚¹ã‚’é€šã™ã€‚

    ```sh:terminal
    echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> /Users/$USERNAME/.zprofile
    ```

    :::message
    `$USERNAME`ã«ã¯è‡ªèº«ã®ãƒ¦ãƒ¼ã‚¶åãŒå…¥ã‚Šã¾ã™ã€‚
    :::
    &nbsp;

4. å†åº¦ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚
    Terminalã‚’å†èµ·å‹•ã—ã¦ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã€‚

    ```sh:terminal
    brew -v
    ```

    ```text:output example
    Homebrew 4.2.6
    ```

Homebrewã‚’ä½¿ãˆã°ã€æ§˜ã€…ãªãƒ„ãƒ¼ãƒ«ãŒæ‰‹è»½ã«æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
GitHubç­‰ã§èˆˆå‘³ãŒæ¹§ã„ãŸãƒ„ãƒ¼ãƒ«ã‚’å®Ÿéš›ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã—ã¦ã¿ã‚‹ã¨ãŠã‚‚ã—ã‚ã„ã§ã™ã‚ˆğŸ¤¤

## Git

@[card](https://git-scm.com/)

ã“ã¡ã‚‰ãŒæœ‰åãªGitã§ã™ã€‚ä½œã£ãŸäººã™ã”ã„ğŸ‘

### å°å…¥æ‰‹é †

1. ã•ãã»ã©å°å…¥ã—ãŸHomebrewã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

    ```sh:terminal
    brew install git
    ```

    &nbsp;

2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚

    ```sh:terminal
    brew info git
    ```

    ```text:output example
    ==> git: stable 2.43.0 (bottled), HEAD
    Distributed revision control system
    ...
    ```

### è¨­å®š (GitHubé€£æºã‚’å«ã‚€)

GitHubã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã¯æ¸ˆã‚“ã§ã„ã‚‹å‰æã§ä»¥é™ã®æ“ä½œã¯è¡Œã„ã¾ã™ã€‚
ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ãŒæ¸ˆã‚“ã§ã„ãªã„å ´åˆã¯ã™ãã«ç™»éŒ²ã—ã¾ã—ã‚‡ã†ğŸ«µ

@[card](https://github.com/)

#### .gitconfig(global)ã®è¨­å®š

1. è­˜åˆ¥æƒ…å ±ã®è¨­å®šã‚’è¡Œã†ã€‚

    ```sh:terminal
    git config --global user.name $USERNAME
    git config --global user.email ID+USERNAME@users.noreply.github.com
    ```

    :::message
    ãƒ»`$USERNAME`ã«ã¯è‡ªèº«ã®ãƒ¦ãƒ¼ã‚¶åãŒå…¥ã‚Šã¾ã™ã€‚

    ãƒ»`ID+USERNAME@users.noreply.github.com`ã¯
    ã€€[GitHubã®ãƒ¡ãƒ¼ãƒ«è¨­å®š](https://github.com/settings/emails)ã§ç¢ºèªã§ãã‚‹ã‚‚ã®ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
    :::
    &nbsp;

2. å¿…è¦ã«å¿œã˜ã¦gitconfigã‚’ç·¨é›†ã™ã‚‹ã€‚

    ```text:~/.gitconfig
    [user]
      name = $USERNAME
      email = ID+USERNAME@users.noreply.github.com
    ...
    ```

    `~/.gitconfig`ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶å˜ä½ã®è¨­å®šãŒå¯èƒ½ã§ã™ã€‚
    ä»–ã«ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰å˜ä½ã‚„ã‚·ã‚¹ãƒ†ãƒ å˜ä½ã§è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ãŒã“ã“ã§ã¯æ‰±ã„ã¾ã›ã‚“ã€‚é–‹ç™ºç’°å¢ƒã‚„ãƒãƒ¼ãƒ ã®æ–¹é‡ã«æ²¿ã£ã¦è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### SSH-keyè¨­å®š

GitHubãŒå…¬é–‹ã—ã¦ã„ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«é€²ã‚ã¦ã„ãã¾ã™ğŸ—ï¸

@[card](https://docs.github.com/ja/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

1. SSH-keyã‚’ç”Ÿæˆã™ã‚‹ã€‚

    ```sh:terminal
    ssh-keygen -t ed25519 -C $YOUR_EMAIL
    ```

    :::message
    ãƒ»`$YOUR_EMAIL`ã«ã¯è‡ªèº«ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå…¥ã‚Šã¾ã™ã€‚

    ãƒ»é€”ä¸­ã§`Enter`ã®å…¥åŠ›ãŒè¦æ±‚ã•ã‚Œã‚‹ã®ã§ãã®éš›ã¯æŠ¼ã—ã¾ã™ã€‚
    ã€€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€`/Users/$USERNAME/.ssh`ã«éµãŒé…ç½®ã•ã‚Œã¾ã™ã€‚
    :::
    &nbsp;

2. SSH-keyã‚’ç¢ºèªã™ã‚‹ã€‚

    ```sh:terminal
    cd ~/.ssh
    ls
    ```

    ```text:output example
    config  id_ed25519  id_ed25519.pub  ...
    ```

    ç§˜å¯†éµ`id_ed25519`ã¨å…¬é–‹éµ`id_ed25519.pub`ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚

    :::message alert
    ç§˜å¯†éµã¯ã©ã“ã«ã‚‚æ¼ã‚‰ã•ãªã„ã‚ˆã†ã«...ï¼ï¼ï¼ï¼ã€€ãƒ€ãƒ¡çµ¶å¯¾ï¼ï¼ï¼ï¼ï¼
    :::
    &nbsp;

3. å…¬é–‹éµã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã€‚

    ```sh:terminal
    pbcopy < ~/.ssh/id_ed25519.pub
    ```

    &nbsp;

4. GitHubã«å…¬é–‹éµã‚’æ¸¡ã™ã€‚
    [GitHubã®keyè¨­å®š](https://github.com/settings/keys)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€[New SHH key]ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€‚

    ![Add new SSH Key](/images/articles/init/keyadd.png)
    *ã“ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹*

    ```text
    Title:      ãŠå¥½ããªã‚‚ã®
    Key type:   Authentication Key
    Key:        æ‰‹é †3ã§ã‚³ãƒ”ãƒ¼ã—ãŸã‚‚ã®ã‚’è²¼ã‚Šä»˜ã‘ã‚‹
    ```

    å…¥åŠ›ã‚’çµ‚ãˆãŸã‚‰ã€[Add SHH key]ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å®Œäº†ã§ã™ã€‚
    &nbsp;

5. æ¥ç¶šãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã€‚

    ```sh:terminal
    ssh -T git@github.com
    ```

    ```text:output example
    Hi $GITHUB_USERNAME You've successfully authenticated, but GitHub does not provide shell access.
    ```

    ç§ã¯ã™ã§ã«æ¥ç¶šã‚’ç¢ºèªã—ã¦ã„ã‚‹ã®ã§ã€`output example`ã¨åŒã˜å‡ºåŠ›ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
    ã—ã‹ã—ã€ã¯ã˜ã‚ã¦æ¥ç¶šã—ãŸå ´åˆã«ã¯ã‚‚ã†å°‘ã—é•·ã„å‡ºåŠ›ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ä½•åº¦ã‹`Enter`ã‚„`yes`ã®å…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã§å¿œã˜ã¦ãã ã•ã„ã€‚

## ãŠã‚ã‚Šã«

ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚ã“ã‚Œã«ã¦ã€Macã®é–‹ç™ºç’°å¢ƒã®ãƒ™ãƒ¼ã‚¹ã¯æ•´ã£ãŸã¨æ€ã„ã¾ã™ã€‚
ã“ã‚Œã‹ã‚‰ã¯è‡ªã‚‰ã®é–‹ç™ºç’°å¢ƒã«åˆã‚ã›ã¦Homebrewã‚„Gitã‚’æ´»ã‹ã—ã¦ã„ãã¾ã—ã‚‡ã†ğŸ‘‹
